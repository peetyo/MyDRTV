<div class="loading" *ngIf="(movieList | async).loading"><p> Loading movies. Please, wait. </p></div>
<div id="movies-filter-panel">

  <div class="movies-filter">

    <div class="movies-filter-label"><span>Filter by Genre:</span></div>
    <select class="movies-filter-control genre" [(ngModel)]="filterGenres" name="Genres">
        <option value="">All Genres</option>
        <option selected="selected" value="action">Action</option>
        <option value="sci-fi">Sci-Fi</option>
        <option value="adventure">Adventure</option>
        <option value="comedy">Comedy</option>
        <option value="family">Family</option>
        <option value="drama">Drama</option>
        <option value="mystery">Mystery</option>
        <option value="thriller">Thriller</option>
        <option value="romance">Romance</option>
        <option value="cyberpunk">Cyberpunk</option>
        <option value="crime">Crime</option>
        <option value="fantasy">Fantasy</option>
    </select>

    <div class="movies-filter-label"><span>Filter by Rating:</span></div>
      <select [(ngModel)]="filterRating" name="Rating"  class="movies-filter-control genre">
          <option value=1>&#9733; 1+</option>
          <option value=2>&#9733; 2+</option>
          <option value=3>&#9733; 3+</option>
          <option value=4>&#9733; 4+</option>
          <option value=5>&#9733; 5+</option>
          <option value=6>&#9733; 6+</option>
          <option value=7>&#9733; 7+</option>
          <option value=8>&#9733; 8+</option>
      </select>
  </div>

  <div class="movies-filter">
      <span class=" movies-filter-label glyphicon glyphicon-search"></span>
      <input class="movies-filter-control search" type="text" [(ngModel)]="searchText" placeholder="Search">
  </div>
  
  
</div>

<div id="moviesWrapper">
<a routerLink="{{movie.movie_id}}" *ngFor="let movie of (movieList | async ).movieList | search : searchText | genre : filterGenres  | rating: filterRating">
  <div class="card" [ngStyle]="{'background-image': 'url(../../../assets/thumb/' + movie.thumbnail_url + ')'}">
      <div class="card-info">
          <div class="movie-detail movie-title"><span class="title">{{ movie.title }}</span></div>
          <div class="movie-detail movie-duration">
            <span>&#9733; {{ movie.star_rating }} | </span>
            <span class="movie-genre">{{ movie.genres[0] }} | </span>
            <span class="movie-genre">{{ movie.genres[1] }} | </span>
            <span class="movie-genre">{{ movie.genres[2] }} </span>

          </div>
          <div class="movie-detail movie-genres">
            <span class="match"> 74% Match  </span>|
            <span> {{ movie.duration | duration}}</span>
          </div>
          
      </div>
    </div>
</a>

</div>